---
import { getEntry } from 'astro:content';
import Pagination from '@philnash/astro-pagination';

const { page } = Astro.props;
const { category } = Astro.params;
const detail = await getEntry('category', category!);
---

<Pagination
	page={page}
	urlPattern={`/blog/${detail!.id}/{}`}
	windowSize={2}
	previousLabel="«"
	nextLabel="»"
/>

<style lang="scss" is:global>
	nav[aria-label='Pagination'] {
		@apply flex select-none items-center justify-center p-4 text-white;
		ul {
			@apply flex h-8 items-center -space-x-px text-sm;
		}
		a.number {
			@apply flex h-10 items-center justify-center border border-gray-300 bg-white px-4 leading-tight text-gray-500 hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white;
		}
		a.previous-page,
		a.next-page {
			@apply flex h-10 items-center justify-center rounded-r-lg border border-gray-300 bg-white px-4 leading-tight text-gray-500 hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white;
		}
		span.end-ellipsis,
		span.start-ellipsis {
			@apply flex h-10 items-center justify-center border border-gray-300 bg-white px-4 leading-tight text-gray-500 hover:bg-gray-100 hover:text-gray-700 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white;
		}
		em[aria-current='page'] {
			@apply z-10 flex h-10 items-center justify-center border border-blue-300 bg-blue-50 px-4 leading-tight text-blue-600 hover:bg-blue-100 hover:text-blue-700 dark:border-gray-700 dark:bg-gray-700 dark:text-white;
		}
	}
</style>
